<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="写在前面 Vim 基本操作 简介 vim 共分为三种模式，分别是命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）。 详见 Linux vi/vim | 菜鸟教程。
编辑文件 编辑文本文件可以通过 vim 文件名 实现，如果文件原本不存在，则 Vim 会自动新建该文件。例如新建或编辑名为 test.txt 的文件，可以通过下面的命令实现。
1vim test.txt 进入编辑界面之后，按下 i 键或 Insert 键，即可进入输入模式开始编辑文件。
常用命令    命令 操作说明     Esc 退出编辑模式   :wq 保存文件并退出 Vim   :q! 不保存文件并强制退出 Vim（慎用）   :set nu 显示行号   i / Insert 切换到输入模式   x 删除当前光标所在处的字符   d 剪切光标所在行   dd 删除光标所在行   yy 复制光标所在行   p 粘贴已复制或已剪切的数据   u 撤销上一步操作   gg 跳转到文件开头   G(shift+g) 跳转到文件末尾   /word 搜索名称为 word 的字符串   ^ 跳转到光标所在行首   $ 跳转到光标所在行尾    代码及数据 本文的代码均存放在 Github，地址 https://github."><title>并行计算课程实践</title><link rel=canonical href=https://example.com/posts/parallel-computing/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="并行计算课程实践"><meta property="og:description" content="写在前面 Vim 基本操作 简介 vim 共分为三种模式，分别是命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）。 详见 Linux vi/vim | 菜鸟教程。
编辑文件 编辑文本文件可以通过 vim 文件名 实现，如果文件原本不存在，则 Vim 会自动新建该文件。例如新建或编辑名为 test.txt 的文件，可以通过下面的命令实现。
1vim test.txt 进入编辑界面之后，按下 i 键或 Insert 键，即可进入输入模式开始编辑文件。
常用命令    命令 操作说明     Esc 退出编辑模式   :wq 保存文件并退出 Vim   :q! 不保存文件并强制退出 Vim（慎用）   :set nu 显示行号   i / Insert 切换到输入模式   x 删除当前光标所在处的字符   d 剪切光标所在行   dd 删除光标所在行   yy 复制光标所在行   p 粘贴已复制或已剪切的数据   u 撤销上一步操作   gg 跳转到文件开头   G(shift+g) 跳转到文件末尾   /word 搜索名称为 word 的字符串   ^ 跳转到光标所在行首   $ 跳转到光标所在行尾    代码及数据 本文的代码均存放在 Github，地址 https://github."><meta property="og:url" content="https://example.com/posts/parallel-computing/"><meta property="og:site_name" content="Anthony's blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2020-11-24T10:00:00+08:00"><meta property="article:modified_time" content="2020-11-24T10:00:00+08:00"><meta name=twitter:title content="并行计算课程实践"><meta name=twitter:description content="写在前面 Vim 基本操作 简介 vim 共分为三种模式，分别是命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）。 详见 Linux vi/vim | 菜鸟教程。
编辑文件 编辑文本文件可以通过 vim 文件名 实现，如果文件原本不存在，则 Vim 会自动新建该文件。例如新建或编辑名为 test.txt 的文件，可以通过下面的命令实现。
1vim test.txt 进入编辑界面之后，按下 i 键或 Insert 键，即可进入输入模式开始编辑文件。
常用命令    命令 操作说明     Esc 退出编辑模式   :wq 保存文件并退出 Vim   :q! 不保存文件并强制退出 Vim（慎用）   :set nu 显示行号   i / Insert 切换到输入模式   x 删除当前光标所在处的字符   d 剪切光标所在行   dd 删除光标所在行   yy 复制光标所在行   p 粘贴已复制或已剪切的数据   u 撤销上一步操作   gg 跳转到文件开头   G(shift+g) 跳转到文件末尾   /word 搜索名称为 word 的字符串   ^ 跳转到光标所在行首   $ 跳转到光标所在行尾    代码及数据 本文的代码均存放在 Github，地址 https://github."></head><body><script>(function(){const colorSchemeKey='StackColorScheme';if(!localStorage.getItem(colorSchemeKey)){localStorage.setItem(colorSchemeKey,"auto");}})();</script><script>(function(){const colorSchemeKey='StackColorScheme';const colorSchemeItem=localStorage.getItem(colorSchemeKey);const supportDarkMode=window.matchMedia('(prefers-color-scheme: dark)').matches===true;if(colorSchemeItem=='dark'||colorSchemeItem==='auto'&&supportDarkMode){document.body.dataset.scheme='dark';}else{document.body.dataset.scheme='light';}})();</script><div class="container main-container flex on-phone--column extended article-page with-toolbar"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/img/avatar_hu275e4bab890ad53f8b467a21c6984a95_383962_300x0_resize_box_2.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></figure><h1 class=site-name><a href=https://example.com>Anthony's blog</a></h1><h2 class=site-description>I'm doing good, I’m on some new shit. Been saying "Yes" instead of "No".</h2></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/search><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></ol></aside><main class="main full-width"><div id=article-toolbar><a href=https://example.com class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>Back</span></a></div><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/parallel-computing/>parallel computing</a></header><h2 class=article-title><a href=/posts/parallel-computing/>并行计算课程实践</a></h2><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>Nov 24, 2020</time></footer></div></header><section class=article-content><h1 id=写在前面>写在前面</h1><h2 id=vim-基本操作>Vim 基本操作</h2><h3 id=简介>简介</h3><p>vim 共分为三种模式，分别是命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）。 详见 <a class=link href=https://www.runoob.com/linux/linux-vim.html target=_blank rel=noopener>Linux vi/vim | 菜鸟教程</a>。</p><h3 id=编辑文件>编辑文件</h3><p>编辑文本文件可以通过 <code>vim 文件名</code> 实现，如果文件原本不存在，则 Vim 会自动新建该文件。例如新建或编辑名为 test.txt 的文件，可以通过下面的命令实现。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell><span class=ln>1</span>vim test.txt
</code></pre></div><p>进入编辑界面之后，按下 i 键或 Insert 键，即可进入输入模式开始编辑文件。</p><h3 id=常用命令>常用命令</h3><table><thead><tr><th>命令</th><th>操作说明</th></tr></thead><tbody><tr><td>Esc</td><td>退出编辑模式</td></tr><tr><td>:wq</td><td>保存文件并退出 Vim</td></tr><tr><td>:q!</td><td>不保存文件并强制退出 Vim（慎用）</td></tr><tr><td>:set nu</td><td>显示行号</td></tr><tr><td>i / Insert</td><td>切换到输入模式</td></tr><tr><td>x</td><td>删除当前光标所在处的字符</td></tr><tr><td>d</td><td>剪切光标所在行</td></tr><tr><td>dd</td><td>删除光标所在行</td></tr><tr><td>yy</td><td>复制光标所在行</td></tr><tr><td>p</td><td>粘贴已复制或已剪切的数据</td></tr><tr><td>u</td><td>撤销上一步操作</td></tr><tr><td>gg</td><td>跳转到文件开头</td></tr><tr><td>G(shift+g)</td><td>跳转到文件末尾</td></tr><tr><td>/word</td><td>搜索名称为 word 的字符串</td></tr><tr><td>^</td><td>跳转到光标所在行首</td></tr><tr><td>$</td><td>跳转到光标所在行尾</td></tr></tbody></table><h1 id=代码及数据>代码及数据</h1><p>本文的代码均存放在 Github，地址 <a href=https://github.com/sudrizzz/ParallelComputing>https://github.com/sudrizzz/ParallelComputing</a>。</p><p>本例中所设计到的输入矩阵有两个：a 矩阵与 b 矩阵，其值相同，如下：</p><p>a、b 矩阵：</p><pre><code>18.04	8.47	16.82	17.15	19.58	4.24	7.20	16.50	5.97	11.90
10.25	13.50	7.83	11.03	20.45	19.68	13.65	15.40	3.04	13.03
0.35	5.22	2.95	17.27	3.36	8.61	2.79	2.34	21.45	4.69
11.02	18.02	13.16	6.36	13.69	11.26	10.60	20.89	6.28	16.56
11.31	16.53	8.59	19.15	6.08	7.57	17.35	19.74	1.50	20.39
11.30	1.85	4.13	14.24	19.12	7.49	1.38	0.43	9.83	1.35
5.12	20.84	19.37	18.27	5.73	11.59	8.06	16.33	11.01	14.34
11.42	0.84	9.40	20.01	19.99	15.48	6.11	15.86	13.74	7.60
14.77	3.56	9.45	18.90	17.81	7.09	4.92	19.19	7.52	14.75
20.54	12.64	14.12	18.44	9.44	19.84	8.56	17.50	14.69	19.56
</code></pre><h1 id=矩阵相加>矩阵相加</h1><h2 id=上传文件>上传文件</h2><p>在命令行中使用 <code>rz</code> 命令开始上传文件，选中相应文件之后点击打开即可开始上传。</p><p><img src=https://cdn.jsdelivr.net/gh/sudrizzz/blog_images@main/20201124095937.png alt=20201124095937></p><h2 id=编译>编译</h2><p>执行 <code>nvcc</code> 命令编译上述文件，生成可执行文件。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell><span class=ln>1</span>nvcc -o matrixaddition matrixaddition.cu
</code></pre></div><p>其中，<code>-o matrixaddition</code> 表示将可执行文件的文件名指定为 matrixaddition。若不指定，则默认为 a.out。</p><p>执行完上述操作之后，使用 <code>ll</code> 命令可以查看现有的所有文件，输出如下。</p><pre><code>-rwxrwxr-x. 1 cuda01 cuda01 569416 11 月 24 09:50 matrixaddition
-rw-r--r--. 1 cuda01 cuda01 2023   11 月 24 09:49 matrixaddition.cu
</code></pre><h2 id=运行>运行</h2><p>上述过程中生成了 <code>matrixaddition</code> 可执行文件，执行下述命令即可开始运行。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell><span class=ln>1</span>./matrixaddition
</code></pre></div><p>输出结果如下：</p><pre><code>36.09	16.94	33.63	34.29	39.15	8.48	14.40	33.00	11.93	23.79
20.50	27.01	15.67	22.05	40.90	39.35	27.30	30.81	6.08	26.07
0.70	10.43	5.89	34.54	6.73	17.22	5.57	4.67	42.90	9.37
22.03	36.04	26.31	12.71	27.38	22.52	21.20	41.78	12.56	33.13
22.62	33.07	17.19	38.29	12.17	15.14	34.69	39.47	3.00	40.77
22.59	3.70	8.26	28.49	38.24	14.98	2.76	0.86	19.66	2.71
10.23	41.69	38.75	36.55	11.45	23.18	16.12	32.65	22.01	28.68
22.83	1.69	18.80	40.02	39.98	30.96	12.21	31.72	27.49	15.21
29.54	7.13	18.90	37.80	35.61	14.19	9.83	38.37	15.05	29.49
41.08	25.28	28.23	36.88	18.88	39.68	17.11	34.99	29.39	39.13
</code></pre><h1 id=矩阵相乘>矩阵相乘</h1><p>与上述过程类似，将编写好的代码上传到服务器中，准备进行编译。</p><h2 id=编译-1>编译</h2><p>执行 <code>nvcc</code> 命令编译代码文件，生成可执行文件。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell><span class=ln>1</span>nvcc -o matrixmultiplication matrixmultiplication.cu
</code></pre></div><h2 id=运行-1>运行</h2><p>上述过程中生成了 <code>matrixmultiplication</code> 可执行文件，执行下述命令即可开始运行。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell><span class=ln>1</span>./matrixmultiplication
</code></pre></div><p>相乘结果：</p><pre><code>1434.15	1331.02	1349.52	2031.20	1607.49	1378.23	1109.41	1915.59	1198.52	1642.11
1459.53	1356.36	1325.31	2057.32	1718.01	1479.91	1109.21	1791.41	1139.91	1573.60
840.46	667.29	691.96	1000.79	1033.85	727.56	517.53	1100.00	572.38	918.05
1465.92	1237.35	1307.85	2113.54	1760.48	1593.65	1067.92	1812.61	1268.27	1554.78
1106.95	1007.73	1027.50	1761.49	1474.07	1238.15	1092.06	1966.31	1278.88	1661.49
866.95	809.99	741.98	1093.15	931.67	600.26	684.60	1144.12	468.24	1008.11
1394.52	1273.50	1259.89	1989.42	1802.07	1643.34	1025.81	1803.05	1353.40	1541.02
1410.82	1162.53	1229.82	1926.65	1632.43	1203.22	978.71	1790.40	1080.38	1510.35
1338.49	1253.85	1171.30	1826.25	1491.70	1298.11	1020.23	1856.90	1107.89	1567.99
1901.57	1436.10	1636.91	2460.80	2242.40	1747.59	1161.72	2187.99	1521.42	1855.17
</code></pre></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload=StackLaTeX()></script><script>function StackLaTeX(){renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:true},{left:"$",right:"$",display:false},{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true}]});}</script></article><aside class=related-contents--wrapper></aside><footer class=site-footer><section class=copyright>&copy;
2018 -
2021 Anthony's blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.0.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const customFont=document.createElement('link');customFont.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";customFont.type="text/css";customFont.rel="stylesheet";document.head.appendChild(customFont);}());</script></body></html>